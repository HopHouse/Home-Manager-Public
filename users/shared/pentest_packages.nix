{ pkgs, ... }:
{
  nixpkgs.config.allowUnfreePredicate = pkg: builtins.elem (pkgs.lib.getName pkg) [
    "wpscan"
    "libsciter"
    "adreaper"
    "brakeman"
    "genymotion"
    "nrfutil"
    "pc-ble-driver-py"
    "pc-ble-driver"
    "ruler"
    "secrets-extractor"
    "silenthound"
    "unrar"
    "volatility3"
    "wprecon"
    "font-adobe-utopia-100dpi"
    "font-bh-100dpi"
    "font-bh-lucidatypewriter-100dpi"
  ];

  nixpkgs.config.permittedInsecurePackages = [
    "python-2.7.18.7"
  ];


  programs = {
    go.enable = true;
    awscli.enable = true;
  };

  home.packages = with pkgs; [
    # Dev
    nix
    rustup

    # Security
    crackmapexec
    gobuster
    metasploit
    exploitdb
    binwalk
    #ghidra
    sqlmap
    routersploit
    exploitdb

    # Hardware 
    apktool
    dex2jar

    # Information gathering
    arp-scan
    dnsenum
    dnsrecon
    enum4linux
    hping
    masscan
    nmap
    testssl
    wireshark
    yersinia
    zmap

    # Maintaining access
    httptunnel

    # Passwords
    brutespray
    crunch
    hash-identifier
    hcxtools
    thc-hydra
    hashcat
    hashcat-utils
    john
    ncrack

    # Sniffing and spoofing
    bettercap
    dnschef
    dsniff
    mitmproxy
    responder
    sipvicious

    # Vulnerability analysis
    lynis

    # Web Applications
    dirb
    gobuster
    nikto
    wfuzz
    ffuf
    wpscan
    whatweb
    zap

    # Wireless
    aircrack-ng
    kismet
    wifite2

    # Python
    (python3.withPackages
      (ps: with ps; [
        impacket
      ])
    )
  ] ++ fabaff-githug-com_nix-security-box;
}
